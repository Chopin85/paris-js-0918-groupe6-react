{"ast":null,"code":"import _classCallCheck from \"/Users/camillecoutens/Desktop/OneTeam/paris-js-0918-groupe6-react/one-team-front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/camillecoutens/Desktop/OneTeam/paris-js-0918-groupe6-react/one-team-front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/camillecoutens/Desktop/OneTeam/paris-js-0918-groupe6-react/one-team-front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/camillecoutens/Desktop/OneTeam/paris-js-0918-groupe6-react/one-team-front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/camillecoutens/Desktop/OneTeam/paris-js-0918-groupe6-react/one-team-front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/camillecoutens/Desktop/OneTeam/paris-js-0918-groupe6-react/one-team-front/src/components/CompanyApplication/StudentApplication.js\";\nimport React, { Component } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport axios from \"axios\";\nimport { MakeCompletedUrl } from \"../../tools\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport RemoveEye from \"@material-ui/icons/RemoveRedEye\";\nimport { loadavg } from \"os\";\nimport { SMALL } from \"./studentConstant\";\nimport StudentProfilView from \"./StudentProfilView\";\nimport StudentView from \"./StudentView\";\n\nvar StudentApplication =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(StudentApplication, _Component);\n\n  function StudentApplication() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, StudentApplication);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(StudentApplication)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      open: false,\n      openMessageSelect: false,\n      openMessageRefuse: false,\n      title: \"\",\n      content: \"\",\n      button: \"\"\n    };\n\n    _this.clickStudentSmall = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.clickClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.selectStudent = function (mode) {\n      var _this$props = _this.props,\n          missionId = _this$props.missionId,\n          traineeId = _this$props.traineeId,\n          firstname = _this$props.firstname;\n      axios.put(MakeCompletedUrl(\"application\"), {\n        missionId: missionId,\n        traineeId: traineeId,\n        mode: mode\n      }).then(function (response) {\n        _this.setState({\n          openMessageSelect: true,\n          title: \"Trainee added\",\n          content: \"L'\\xE9tudiant \".concat(firstname, \" a bien \\xE9t\\xE9 pr\\xE9-s\\xE9lectionn\\xE9 pour la mission\"),\n          button: \"Fermer\"\n        });\n      }).catch(function (error) {\n        if (error.response.status === 404) {\n          _this.setState({\n            openMessageSelect: true,\n            title: \"Trainee already preselected\",\n            content: \"L'\\xE9tudiant(e) \".concat(firstname, \" a d\\xE9j\\xE0 \\xE9t\\xE9 pr\\xE9-s\\xE9lectionn\\xE9\"),\n            button: \"Fermer\"\n          });\n        } else {\n          _this.setState({\n            openMessageSelect: true,\n            title: \"Oups une erreur s'est produite\",\n            content: \"Veuillez recommencer s'il-vous-plait\",\n            button: \"Fermer\"\n          });\n        }\n      });\n    };\n\n    _this.refuseStudent = function (mode) {\n      var _this$props2 = _this.props,\n          missionId = _this$props2.missionId,\n          traineeId = _this$props2.traineeId,\n          firstname = _this$props2.firstname; // console.log(\"onclick\", missionId, traineeId, mode);\n\n      axios.put(MakeCompletedUrl(\"application\"), {\n        missionId: missionId,\n        traineeId: traineeId,\n        mode: mode\n      }).then(function (response) {\n        // console.log(response);\n        _this.setState({\n          openMessageRefuse: true,\n          title: \"Trainee deleted\",\n          content: \"L'\\xE9tudiant(e) \".concat(firstname, \" a bien \\xE9t\\xE9 refus\\xE9 pour cette mission\"),\n          button: \"Fermer\"\n        });\n      }).catch(function (error) {\n        // console.log(error.response);\n        if (error.response.status === 404) {\n          _this.setState({\n            openMessageSelect: true,\n            title: \"Trainee already preselected\",\n            content: \"L'\\xE9tudiant(e) \".concat(firstname, \" a d\\xE9j\\xE0 \\xE9t\\xE9 pr\\xE9-s\\xE9lectionn\\xE9\"),\n            button: \"Fermer\"\n          });\n        } else {\n          _this.setState({\n            openMessageSelect: true,\n            title: \"Oups une erreur s'est produite\",\n            content: \"Veuillez recommencer s'il-vous-plait\",\n            button: \"Fermer\"\n          });\n        }\n      });\n    };\n\n    _this.handleClose = function () {\n      var _this$props3 = _this.props,\n          handleCloseRefresh = _this$props3.handleCloseRefresh,\n          traineeId = _this$props3.traineeId,\n          missionId = _this$props3.missionId;\n      handleCloseRefresh(traineeId, missionId);\n\n      _this.setState({\n        openMessageSelect: false,\n        openMessageRefuse: false\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(StudentApplication, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          open = _this$state.open,\n          openMessageSelect = _this$state.openMessageSelect,\n          openMessageRefuse = _this$state.openMessageRefuse,\n          title = _this$state.title,\n          button = _this$state.button,\n          content = _this$state.content;\n      var _this$props4 = this.props,\n          mode = _this$props4.mode,\n          modeSelect = _this$props4.modeSelect,\n          modeRefuse = _this$props4.modeRefuse,\n          disabled = _this$props4.disabled,\n          isFull = _this$props4.isFull; // console.log(\"isFull :\", isFull);\n      // console.log(\n      //   \"StudentApplication\",\n      //   this.props.newDateStart,\n      //   this.props.newDateEnd\n      // );\n\n      switch (mode) {\n        case \"APPLICATION\":\n          {\n            return React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 135\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 136\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              onClick: this.clickStudentSmall,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 137\n              },\n              __self: this\n            }, React.createElement(StudentView, Object.assign({}, this.props, {\n              dateStart: this.props.newDateStart,\n              dateEnd: this.props.newDateEnd,\n              size: SMALL,\n              open: open,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 138\n              },\n              __self: this\n            }))), isFull ? // <Button variant=\"contained\" disabled>\n            //   Ajouter\n            // </Button>\n            React.createElement(Button, {\n              color: \"primary\",\n              variant: \"contained\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 150\n              },\n              __self: this\n            }, \"Aper\\xE7u profil\", React.createElement(RemoveEye, {\n              className: \"traineeProfileIcon\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 152\n              },\n              __self: this\n            })) : // <Button\n            //   onClick={() => this.selectStudent(modeSelect)}\n            //   variant=\"contained\"\n            //   color=\"primary\"\n            // >\n            //   Ajouter\n            // </Button>\n            React.createElement(Button, {\n              color: \"primary\",\n              variant: \"contained\",\n              onClick: function onClick() {\n                return _this2.selectStudent(modeSelect);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 162\n              },\n              __self: this\n            }, \"Aper\\xE7u profil\", React.createElement(RemoveEye, {\n              className: \"traineeProfileIcon\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 168\n              },\n              __self: this\n            })), React.createElement(Button, {\n              onClick: function onClick() {\n                return _this2.refuseStudent(modeRefuse);\n              },\n              variant: \"contained\",\n              color: \"secondary\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 171\n              },\n              __self: this\n            }, \"Refuser\"), React.createElement(StudentProfilView, Object.assign({}, this.props, {\n              dateStart: this.props.newDateStart,\n              dateEnd: this.props.newDateEnd,\n              open: open,\n              close: this.clickClose,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 178\n              },\n              __self: this\n            }))), React.createElement(Dialog, {\n              open: openMessageSelect,\n              onClose: this.handleClose,\n              \"aria-labelledby\": \"alert-dialog-title\",\n              \"aria-describedby\": \"alert-dialog-description\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 187\n              },\n              __self: this\n            }, React.createElement(DialogTitle, {\n              id: \"alert-dialog-title\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 193\n              },\n              __self: this\n            }, title), React.createElement(DialogContent, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 194\n              },\n              __self: this\n            }, React.createElement(DialogContentText, {\n              id: \"alert-dialog-description\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 195\n              },\n              __self: this\n            }, content)), React.createElement(DialogActions, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 199\n              },\n              __self: this\n            }, React.createElement(Button, {\n              onClick: this.handleClose,\n              color: \"primary\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 200\n              },\n              __self: this\n            }, button))), React.createElement(Dialog, {\n              open: openMessageRefuse,\n              onClose: this.handleClose,\n              \"aria-labelledby\": \"alert-dialog-title\",\n              \"aria-describedby\": \"alert-dialog-description\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 206\n              },\n              __self: this\n            }, React.createElement(DialogTitle, {\n              id: \"alert-dialog-title\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 212\n              },\n              __self: this\n            }, title), React.createElement(DialogContent, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 213\n              },\n              __self: this\n            }, React.createElement(DialogContentText, {\n              id: \"alert-dialog-description\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 214\n              },\n              __self: this\n            }, content)), React.createElement(DialogActions, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 218\n              },\n              __self: this\n            }, React.createElement(Button, {\n              onClick: this.handleClose,\n              color: \"primary\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 219\n              },\n              __self: this\n            }, button))));\n          }\n\n        case \"SELECT\":\n          {\n            return React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 229\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 230\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              onClick: function onClick() {\n                return _this2.clickStudentSmall();\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 231\n              },\n              __self: this\n            }, React.createElement(StudentView, Object.assign({}, this.props, {\n              dateStart: this.props.newDateStart,\n              dateEnd: this.props.newDateEnd,\n              size: SMALL,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 232\n              },\n              __self: this\n            }))), disabled || isFull ? React.createElement(Button, {\n              disabled: true,\n              variant: \"contained\",\n              color: \"secondary\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 240\n              },\n              __self: this\n            }, \"Refuser\") : React.createElement(Button, {\n              onClick: function onClick() {\n                return _this2.refuseStudent(modeRefuse);\n              },\n              variant: \"contained\",\n              color: \"secondary\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 244\n              },\n              __self: this\n            }, \"Refuser\"), React.createElement(StudentProfilView, Object.assign({}, this.props, {\n              dateStart: this.props.newDateStart,\n              dateEnd: this.props.newDateEnd,\n              open: open,\n              close: this.clickClose,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 252\n              },\n              __self: this\n            }))), React.createElement(Dialog, {\n              open: openMessageRefuse,\n              onClose: this.handleClose,\n              \"aria-labelledby\": \"alert-dialog-title\",\n              \"aria-describedby\": \"alert-dialog-description\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 261\n              },\n              __self: this\n            }, React.createElement(DialogTitle, {\n              id: \"alert-dialog-title\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 267\n              },\n              __self: this\n            }, title), React.createElement(DialogContent, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 268\n              },\n              __self: this\n            }, React.createElement(DialogContentText, {\n              id: \"alert-dialog-description\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 269\n              },\n              __self: this\n            }, content)), React.createElement(DialogActions, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 273\n              },\n              __self: this\n            }, React.createElement(Button, {\n              onClick: this.handleClose,\n              color: \"primary\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 274\n              },\n              __self: this\n            }, button))));\n          }\n\n        case \"ADMIN\":\n          {\n            return React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 284\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 285\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              onClick: function onClick() {\n                return _this2.clickStudentSmall();\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 286\n              },\n              __self: this\n            }, React.createElement(StudentView, Object.assign({}, this.props, {\n              dateStart: this.props.newDateStart,\n              dateEnd: this.props.newDateEnd,\n              size: SMALL,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 287\n              },\n              __self: this\n            }))), React.createElement(StudentProfilView, Object.assign({}, this.props, {\n              dateStart: this.props.newDateStart,\n              dateEnd: this.props.newDateEnd,\n              open: open,\n              close: this.clickClose,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 294\n              },\n              __self: this\n            }))));\n          }\n\n        default:\n          break;\n      }\n    }\n  }]);\n\n  return StudentApplication;\n}(Component);\n\nexport default StudentApplication;","map":{"version":3,"sources":["/Users/camillecoutens/Desktop/OneTeam/paris-js-0918-groupe6-react/one-team-front/src/components/CompanyApplication/StudentApplication.js"],"names":["React","Component","Button","axios","MakeCompletedUrl","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","RemoveEye","loadavg","SMALL","StudentProfilView","StudentView","StudentApplication","state","open","openMessageSelect","openMessageRefuse","title","content","button","clickStudentSmall","setState","clickClose","selectStudent","mode","props","missionId","traineeId","firstname","put","then","response","catch","error","status","refuseStudent","handleClose","handleCloseRefresh","modeSelect","modeRefuse","disabled","isFull","newDateStart","newDateEnd"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Button from \"@material-ui/core/Button\";\n\nimport axios from \"axios\";\nimport { MakeCompletedUrl } from \"../../tools\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport RemoveEye from \"@material-ui/icons/RemoveRedEye\";\n\nimport { loadavg } from \"os\";\nimport { SMALL } from \"./studentConstant\";\nimport StudentProfilView from \"./StudentProfilView\";\nimport StudentView from \"./StudentView\";\n\nclass StudentApplication extends Component {\n  state = {\n    open: false,\n    openMessageSelect: false,\n    openMessageRefuse: false,\n    title: ``,\n    content: ``,\n    button: ``\n  };\n\n  clickStudentSmall = () => {\n    this.setState({ open: true });\n  };\n\n  clickClose = () => {\n    this.setState({ open: false });\n  };\n\n  selectStudent = mode => {\n    const { missionId, traineeId, firstname } = this.props;\n    axios\n      .put(MakeCompletedUrl(`application`), {\n        missionId,\n        traineeId,\n        mode\n      })\n      .then(response => {\n        this.setState({\n          openMessageSelect: true,\n          title: `Trainee added`,\n          content: `L'étudiant ${firstname} a bien été pré-sélectionné pour la mission`,\n          button: `Fermer`\n        });\n      })\n      .catch(error => {\n        if (error.response.status === 404) {\n          this.setState({\n            openMessageSelect: true,\n            title: `Trainee already preselected`,\n            content: `L'étudiant(e) ${firstname} a déjà été pré-sélectionné`,\n            button: `Fermer`\n          });\n        } else {\n          this.setState({\n            openMessageSelect: true,\n            title: `Oups une erreur s'est produite`,\n            content: `Veuillez recommencer s'il-vous-plait`,\n            button: `Fermer`\n          });\n        }\n      });\n  };\n\n  refuseStudent = mode => {\n    const { missionId, traineeId, firstname } = this.props;\n    // console.log(\"onclick\", missionId, traineeId, mode);\n    axios\n      .put(MakeCompletedUrl(`application`), {\n        missionId,\n        traineeId,\n        mode\n      })\n      .then(response => {\n        // console.log(response);\n        this.setState({\n          openMessageRefuse: true,\n          title: `Trainee deleted`,\n          content: `L'étudiant(e) ${firstname} a bien été refusé pour cette mission`,\n          button: `Fermer`\n        });\n      })\n      .catch(error => {\n        // console.log(error.response);\n        if (error.response.status === 404) {\n          this.setState({\n            openMessageSelect: true,\n            title: `Trainee already preselected`,\n            content: `L'étudiant(e) ${firstname} a déjà été pré-sélectionné`,\n            button: `Fermer`\n          });\n        } else {\n          this.setState({\n            openMessageSelect: true,\n            title: `Oups une erreur s'est produite`,\n            content: `Veuillez recommencer s'il-vous-plait`,\n            button: `Fermer`\n          });\n        }\n      });\n  };\n\n  handleClose = () => {\n    const { handleCloseRefresh, traineeId, missionId } = this.props;\n    handleCloseRefresh(traineeId, missionId);\n    this.setState({ openMessageSelect: false, openMessageRefuse: false });\n  };\n\n  render() {\n    const {\n      open,\n      openMessageSelect,\n      openMessageRefuse,\n      title,\n      button,\n      content\n    } = this.state;\n    const { mode, modeSelect, modeRefuse, disabled, isFull } = this.props;\n    // console.log(\"isFull :\", isFull);\n    // console.log(\n    //   \"StudentApplication\",\n    //   this.props.newDateStart,\n    //   this.props.newDateEnd\n    // );\n\n    switch (mode) {\n      case \"APPLICATION\": {\n        return (\n          <div>\n            <div>\n              <div onClick={this.clickStudentSmall}>\n                <StudentView\n                  {...this.props}\n                  dateStart={this.props.newDateStart}\n                  dateEnd={this.props.newDateEnd}\n                  size={SMALL}\n                  open={open}\n                />\n              </div>\n              {isFull ? (\n                // <Button variant=\"contained\" disabled>\n                //   Ajouter\n                // </Button>\n                <Button color=\"primary\" variant=\"contained\">\n                  Aperçu profil\n                  <RemoveEye className=\"traineeProfileIcon\" />\n                </Button>\n              ) : (\n                // <Button\n                //   onClick={() => this.selectStudent(modeSelect)}\n                //   variant=\"contained\"\n                //   color=\"primary\"\n                // >\n                //   Ajouter\n                // </Button>\n                <Button\n                  color=\"primary\"\n                  variant=\"contained\"\n                  onClick={() => this.selectStudent(modeSelect)}\n                >\n                  Aperçu profil\n                  <RemoveEye className=\"traineeProfileIcon\" />\n                </Button>\n              )}\n              <Button\n                onClick={() => this.refuseStudent(modeRefuse)}\n                variant=\"contained\"\n                color=\"secondary\"\n              >\n                Refuser\n              </Button>\n              <StudentProfilView\n                {...this.props}\n                dateStart={this.props.newDateStart}\n                dateEnd={this.props.newDateEnd}\n                open={open}\n                close={this.clickClose}\n              />\n            </div>\n            {/* **************** DIALOG AJOUT OK ************************** */}\n            <Dialog\n              open={openMessageSelect}\n              onClose={this.handleClose}\n              aria-labelledby=\"alert-dialog-title\"\n              aria-describedby=\"alert-dialog-description\"\n            >\n              <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\n              <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                  {content}\n                </DialogContentText>\n              </DialogContent>\n              <DialogActions>\n                <Button onClick={this.handleClose} color=\"primary\">\n                  {button}\n                </Button>\n              </DialogActions>\n            </Dialog>\n            {/* **************** DIALOG SUPPRESSION OK ************************** */}\n            <Dialog\n              open={openMessageRefuse}\n              onClose={this.handleClose}\n              aria-labelledby=\"alert-dialog-title\"\n              aria-describedby=\"alert-dialog-description\"\n            >\n              <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\n              <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                  {content}\n                </DialogContentText>\n              </DialogContent>\n              <DialogActions>\n                <Button onClick={this.handleClose} color=\"primary\">\n                  {button}\n                </Button>\n              </DialogActions>\n            </Dialog>\n          </div>\n        );\n      }\n      case \"SELECT\": {\n        return (\n          <div>\n            <div>\n              <div onClick={() => this.clickStudentSmall()}>\n                <StudentView\n                  {...this.props}\n                  dateStart={this.props.newDateStart}\n                  dateEnd={this.props.newDateEnd}\n                  size={SMALL}\n                />\n              </div>\n              {disabled || isFull ? (\n                <Button disabled variant=\"contained\" color=\"secondary\">\n                  Refuser\n                </Button>\n              ) : (\n                <Button\n                  onClick={() => this.refuseStudent(modeRefuse)}\n                  variant=\"contained\"\n                  color=\"secondary\"\n                >\n                  Refuser\n                </Button>\n              )}\n              <StudentProfilView\n                {...this.props}\n                dateStart={this.props.newDateStart}\n                dateEnd={this.props.newDateEnd}\n                open={open}\n                close={this.clickClose}\n              />\n            </div>\n            {/* **************** DIALOG SUPPRESSION OK ************************** */}\n            <Dialog\n              open={openMessageRefuse}\n              onClose={this.handleClose}\n              aria-labelledby=\"alert-dialog-title\"\n              aria-describedby=\"alert-dialog-description\"\n            >\n              <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\n              <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                  {content}\n                </DialogContentText>\n              </DialogContent>\n              <DialogActions>\n                <Button onClick={this.handleClose} color=\"primary\">\n                  {button}\n                </Button>\n              </DialogActions>\n            </Dialog>\n          </div>\n        );\n      }\n      case \"ADMIN\": {\n        return (\n          <div>\n            <div>\n              <div onClick={() => this.clickStudentSmall()}>\n                <StudentView\n                  {...this.props}\n                  dateStart={this.props.newDateStart}\n                  dateEnd={this.props.newDateEnd}\n                  size={SMALL}\n                />\n              </div>\n              <StudentProfilView\n                {...this.props}\n                dateStart={this.props.newDateStart}\n                dateEnd={this.props.newDateEnd}\n                open={open}\n                close={this.clickClose}\n              />\n            </div>\n          </div>\n        );\n      }\n      default:\n        break;\n    }\n  }\n}\n\nexport default StudentApplication;\n"]},"metadata":{},"sourceType":"module"}