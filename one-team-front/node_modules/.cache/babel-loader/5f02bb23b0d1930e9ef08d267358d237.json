{"ast":null,"code":"import _defineProperty from \"/home/wilder/Documents/Projet3/Projet One team/paris-js-0918-groupe6-react/one-team-front/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/wilder/Documents/Projet3/Projet One team/paris-js-0918-groupe6-react/one-team-front/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/wilder/Documents/Projet3/Projet One team/paris-js-0918-groupe6-react/one-team-front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/wilder/Documents/Projet3/Projet One team/paris-js-0918-groupe6-react/one-team-front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/wilder/Documents/Projet3/Projet One team/paris-js-0918-groupe6-react/one-team-front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/wilder/Documents/Projet3/Projet One team/paris-js-0918-groupe6-react/one-team-front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/wilder/Documents/Projet3/Projet One team/paris-js-0918-groupe6-react/one-team-front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/wilder/Documents/Projet3/Projet One team/paris-js-0918-groupe6-react/one-team-front/src/components/searchOffer/FindOffer.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Fab from \"@material-ui/core/Fab\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { MakeCompletedUrl } from \"../../tools\";\nimport ModalOffer from \"../offerView/ModalOffer\";\nimport { MIDDLE } from \"../offerView\";\nimport \"../pages.css\";\nimport logoSearch from \"../../img/icons8-chercher-208.png\";\nimport Button from \"@material-ui/core/Button\";\nimport \"./OffersStud.css\";\nimport { Grid, TextField, withStyles, Paper } from \"@material-ui/core\";\n\nvar styles = function styles(theme) {\n  return {\n    // container: {\n    //   display: \"flex\",\n    //   flexDirection: \"column\",\n    //   border: \"1px solid red\"\n    // }\n    TextField: {\n      marginLeft: theme.spacing.unit,\n      marginRight: theme.spacing.unit,\n      backgroundColor: \"#fff\",\n      borderRadius: 10\n    }\n  };\n};\n\nvar FindOffers =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FindOffers, _Component);\n\n  function FindOffers() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, FindOffers);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FindOffers)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      result: [],\n      search: \"\",\n      town: \"\",\n      isLoad: false\n    };\n\n    _this.getCount = function () {\n      var url = MakeCompletedUrl(\"mission/getcount\");\n      axios.get(url).then(function (res) {\n        console.log(\"res\", res);\n\n        _this.setState(_objectSpread({}, _this.state, {\n          count: res.data.count\n        }));\n      });\n    };\n\n    _this.handleChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.getMission = function () {\n      var _this$state = _this.state,\n          search = _this$state.search,\n          town = _this$state.town;\n      var url = MakeCompletedUrl(\"mission?search=\".concat(search, \"&town=\").concat(town));\n      axios.get(url).then(function (res) {\n        _this.setState({\n          result: res.data\n        });\n      }).catch(function (err) {\n        if (err.response.status === 304) {\n          console.log(\"status\", err.response.status);\n        }\n      });\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n\n      _this.getMission();\n    };\n\n    return _this;\n  }\n\n  _createClass(FindOffers, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getMission();\n      this.getCount();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state2 = this.state,\n          result = _this$state2.result,\n          count = _this$state2.count;\n      var classes = this.props.classes;\n      console.log(result);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"home-company\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"compnay-overlay\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"block-company\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"page_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Trouve la mission de stage de tes r\\xEAves !\"), React.createElement(\"h2\", {\n        className: \"page_subtitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"Nombre d\\u2019offres disponibles : \", count || \"x\", \" \"), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        className: classes.Form,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        alignItems: \"center\",\n        justify: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 8,\n        md: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        name: \"search\",\n        label: \"Recherche\",\n        margin: \"normal\",\n        variant: \"outlined\",\n        className: classes.TextField,\n        id: \"search\",\n        type: \"search\",\n        placeholder: \"Stage\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      })), React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 8,\n        md: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        type: \"search\",\n        name: \"town\",\n        id: \"town\",\n        placeholder: \"ville\",\n        onChange: this.handleChange,\n        label: \"Town\",\n        margin: \"normal\",\n        variant: \"outlined\",\n        className: classes.TextField,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      })), React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 8,\n        md: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"contained\",\n        type: \"submit\",\n        className: \"searchButton classic_button_orange\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: require(\"../../img/icons8-chercher-208.png\"),\n        width: \"30\",\n        height: \"30\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      })))))))), React.createElement(Grid, {\n        xs: true,\n        direction: \"column\",\n        justify: \"center\",\n        alignItems: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        container: true,\n        direction: \"column\",\n        justify: \"center\",\n        alignItems: \"center\",\n        className: \"Haut\",\n        xs: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        className: classes.Form,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        name: \"search\",\n        label: \"Recherche\",\n        margin: \"normal\",\n        variant: \"outlined\",\n        className: classes.TextField,\n        id: \"search\",\n        type: \"search\",\n        placeholder: \"Stage\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        type: \"search\",\n        name: \"town\",\n        id: \"town\",\n        placeholder: \"ville\",\n        onChange: this.handleChange,\n        label: \"Town\",\n        margin: \"normal\",\n        variant: \"outlined\",\n        className: classes.TextField,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }), React.createElement(Button, {\n        variant: \"contained\",\n        type: \"submit\",\n        className: \"searchButton classic_button_orange\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: require(\"../../img/icons8-chercher-208.png\"),\n        width: \"30\",\n        height: \"30\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"general_margin content-search-offers\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        direction: \"column\",\n        justify: \"center\",\n        alignItems: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, result.map(function (element) {\n        return React.createElement(ModalOffer, Object.assign({\n          size: MIDDLE,\n          key: \"\".concat(element.id, \"-\").concat(element.titleMission),\n          missionId: element.id,\n          company: element.Company.companyName,\n          titleMission: element.titleMission,\n          dateStart: element.dateStart,\n          dateEnd: element.dateEnd,\n          description: element.description,\n          intro: element.intro,\n          town: element.town,\n          LevelStudy: element.LevelStudy.label\n        }, _this2.props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        }));\n      })))));\n    }\n  }]);\n\n  return FindOffers;\n}(Component);\n\nexport default withStyles(styles)(FindOffers);","map":{"version":3,"sources":["/home/wilder/Documents/Projet3/Projet One team/paris-js-0918-groupe6-react/one-team-front/src/components/searchOffer/FindOffer.js"],"names":["React","Component","axios","Fab","AddIcon","MakeCompletedUrl","ModalOffer","MIDDLE","logoSearch","Button","Grid","TextField","withStyles","Paper","styles","theme","marginLeft","spacing","unit","marginRight","backgroundColor","borderRadius","FindOffers","state","result","search","town","isLoad","getCount","url","get","then","res","console","log","setState","count","data","handleChange","event","target","name","value","getMission","catch","err","response","status","handleSubmit","preventDefault","classes","props","Form","require","map","element","id","titleMission","Company","companyName","dateStart","dateEnd","description","intro","LevelStudy","label"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,SAASC,gBAAT,QAAiC,aAAjC;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,SAASC,MAAT,QAAuB,cAAvB;AAEA,OAAO,cAAP;AAEA,OAAOC,UAAP,MAAuB,mCAAvB;AAEA,OAAOC,MAAP,MAAmB,0BAAnB;AAEA,OAAO,kBAAP;AACA,SAASC,IAAT,EAAeC,SAAf,EAA0BC,UAA1B,EAAsCC,KAAtC,QAAmD,mBAAnD;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAAC,KAAK;AAAA,SAAK;AACvB;AACA;AACA;AACA;AACA;AACAJ,IAAAA,SAAS,EAAE;AACTK,MAAAA,UAAU,EAAED,KAAK,CAACE,OAAN,CAAcC,IADjB;AAETC,MAAAA,WAAW,EAAEJ,KAAK,CAACE,OAAN,CAAcC,IAFlB;AAGTE,MAAAA,eAAe,EAAE,MAHR;AAITC,MAAAA,YAAY,EAAE;AAJL;AANY,GAAL;AAAA,CAApB;;IAcMC,U;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,MAAM,EAAE,EADF;AAENC,MAAAA,MAAM,EAAE,EAFF;AAGNC,MAAAA,IAAI,EAAE,EAHA;AAINC,MAAAA,MAAM,EAAE;AAJF,K;;UAYRC,Q,GAAW,YAAM;AACf,UAAMC,GAAG,GAAGxB,gBAAgB,CAAC,kBAAD,CAA5B;AACAH,MAAAA,KAAK,CAAC4B,GAAN,CAAUD,GAAV,EAAeE,IAAf,CAAoB,UAAAC,GAAG,EAAI;AACzBC,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBF,GAAnB;;AACA,cAAKG,QAAL,mBAAmB,MAAKZ,KAAxB;AAA+Ba,UAAAA,KAAK,EAAEJ,GAAG,CAACK,IAAJ,CAASD;AAA/C;AACD,OAHD;AAID,K;;UAEDE,Y,GAAe,UAAAC,KAAK,EAAI;AACtB,YAAKJ,QAAL,qBACGI,KAAK,CAACC,MAAN,CAAaC,IADhB,EACuBF,KAAK,CAACC,MAAN,CAAaE,KADpC;AAGD,K;;UAIDC,U,GAAa,YAAM;AAAA,wBACQ,MAAKpB,KADb;AAAA,UACTE,MADS,eACTA,MADS;AAAA,UACDC,IADC,eACDA,IADC;AAEjB,UAAMG,GAAG,GAAGxB,gBAAgB,0BAAmBoB,MAAnB,mBAAkCC,IAAlC,EAA5B;AACAxB,MAAAA,KAAK,CACF4B,GADH,CACOD,GADP,EAEGE,IAFH,CAEQ,UAAAC,GAAG,EAAI;AACX,cAAKG,QAAL,CAAc;AAAEX,UAAAA,MAAM,EAAEQ,GAAG,CAACK;AAAd,SAAd;AACD,OAJH,EAKGO,KALH,CAKS,UAAAC,GAAG,EAAI;AACZ,YAAIA,GAAG,CAACC,QAAJ,CAAaC,MAAb,KAAwB,GAA5B,EAAiC;AAC/Bd,UAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBW,GAAG,CAACC,QAAJ,CAAaC,MAAnC;AACD;AACF,OATH;AAUD,K;;UAEDC,Y,GAAe,UAAAT,KAAK,EAAI;AACtBA,MAAAA,KAAK,CAACU,cAAN;;AACA,YAAKN,UAAL;AACD,K;;;;;;;wCAvCmB;AAClB,WAAKA,UAAL;AACA,WAAKf,QAAL;AACD;;;6BAsCQ;AAAA;;AAAA,yBACmB,KAAKL,KADxB;AAAA,UACCC,MADD,gBACCA,MADD;AAAA,UACSY,KADT,gBACSA,KADT;AAAA,UAECc,OAFD,GAEa,KAAKC,KAFlB,CAECD,OAFD;AAGPjB,MAAAA,OAAO,CAACC,GAAR,CAAYV,MAAZ;AACA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wDADF,EAIE;AAAI,QAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDACiCY,KAAK,IAAI,GAD1C,EAC+C,GAD/C,CAJF,EAQE;AAAM,QAAA,QAAQ,EAAE,KAAKY,YAArB;AAAmC,QAAA,SAAS,EAAEE,OAAO,CAACE,IAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAgB,QAAA,UAAU,EAAC,QAA3B;AAAoC,QAAA,OAAO,EAAC,QAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAmB,QAAA,EAAE,EAAE,CAAvB;AAA0B,QAAA,EAAE,EAAE,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,KAAK,EAAC,WAFR;AAGE,QAAA,MAAM,EAAC,QAHT;AAIE,QAAA,OAAO,EAAC,UAJV;AAKE,QAAA,SAAS,EAAEF,OAAO,CAACvC,SALrB;AAME,QAAA,EAAE,EAAC,QANL;AAOE,QAAA,IAAI,EAAC,QAPP;AAQE,QAAA,WAAW,EAAC,OARd;AASE,QAAA,QAAQ,EAAE,KAAK2B,YATjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAcE,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAmB,QAAA,EAAE,EAAE,CAAvB;AAA0B,QAAA,EAAE,EAAE,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,EAAE,EAAC,MAHL;AAIE,QAAA,WAAW,EAAC,OAJd;AAKE,QAAA,QAAQ,EAAE,KAAKA,YALjB;AAME,QAAA,KAAK,EAAC,MANR;AAOE,QAAA,MAAM,EAAC,QAPT;AAQE,QAAA,OAAO,EAAC,UARV;AASE,QAAA,SAAS,EAAEY,OAAO,CAACvC,SATrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAdF,EA2BE,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAmB,QAAA,EAAE,EAAE,CAAvB;AAA0B,QAAA,EAAE,EAAE,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AACE,QAAA,OAAO,EAAC,WADV;AAEE,QAAA,IAAI,EAAC,QAFP;AAGE,QAAA,SAAS,EAAC,oCAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKE;AACE,QAAA,GAAG,EAAE0C,OAAO,CAAC,mCAAD,CADd;AAEE,QAAA,KAAK,EAAC,IAFR;AAGE,QAAA,MAAM,EAAC,IAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,CADF,CA3BF,CADF,CARF,CADF,CADF,CADF,EAyDE,oBAAC,IAAD;AAAM,QAAA,EAAE,MAAR;AAAS,QAAA,SAAS,EAAC,QAAnB;AAA4B,QAAA,OAAO,EAAC,QAApC;AAA6C,QAAA,UAAU,EAAC,QAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AACE,QAAA,IAAI,MADN;AAEE,QAAA,SAAS,MAFX;AAGE,QAAA,SAAS,EAAC,QAHZ;AAIE,QAAA,OAAO,EAAC,QAJV;AAKE,QAAA,UAAU,EAAC,QALb;AAME,QAAA,SAAS,EAAC,MANZ;AAOE,QAAA,EAAE,MAPJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SASE;AAAM,QAAA,QAAQ,EAAE,KAAKL,YAArB;AAAmC,QAAA,SAAS,EAAEE,OAAO,CAACE,IAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,KAAK,EAAC,WAFR;AAGE,QAAA,MAAM,EAAC,QAHT;AAIE,QAAA,OAAO,EAAC,UAJV;AAKE,QAAA,SAAS,EAAEF,OAAO,CAACvC,SALrB;AAME,QAAA,EAAE,EAAC,QANL;AAOE,QAAA,IAAI,EAAC,QAPP;AAQE,QAAA,WAAW,EAAC,OARd;AASE,QAAA,QAAQ,EAAE,KAAK2B,YATjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAYE,oBAAC,SAAD;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,EAAE,EAAC,MAHL;AAIE,QAAA,WAAW,EAAC,OAJd;AAKE,QAAA,QAAQ,EAAE,KAAKA,YALjB;AAME,QAAA,KAAK,EAAC,MANR;AAOE,QAAA,MAAM,EAAC,QAPT;AAQE,QAAA,OAAO,EAAC,UARV;AASE,QAAA,SAAS,EAAEY,OAAO,CAACvC,SATrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAZF,EAwBE,oBAAC,MAAD;AACE,QAAA,OAAO,EAAC,WADV;AAEE,QAAA,IAAI,EAAC,QAFP;AAGE,QAAA,SAAS,EAAC,oCAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKE;AACE,QAAA,GAAG,EAAE0C,OAAO,CAAC,mCAAD,CADd;AAEE,QAAA,KAAK,EAAC,IAFR;AAGE,QAAA,MAAM,EAAC,IAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,CAxBF,CATF,CADF,EA+CE;AAAK,QAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AACE,QAAA,SAAS,MADX;AAEE,QAAA,SAAS,EAAC,QAFZ;AAGE,QAAA,OAAO,EAAC,QAHV;AAIE,QAAA,UAAU,EAAC,QAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAMG7B,MAAM,CAAC8B,GAAP,CAAW,UAAAC,OAAO;AAAA,eACjB,oBAAC,UAAD;AACE,UAAA,IAAI,EAAEhD,MADR;AAEE,UAAA,GAAG,YAAKgD,OAAO,CAACC,EAAb,cAAmBD,OAAO,CAACE,YAA3B,CAFL;AAGE,UAAA,SAAS,EAAEF,OAAO,CAACC,EAHrB;AAIE,UAAA,OAAO,EAAED,OAAO,CAACG,OAAR,CAAgBC,WAJ3B;AAKE,UAAA,YAAY,EAAEJ,OAAO,CAACE,YALxB;AAME,UAAA,SAAS,EAAEF,OAAO,CAACK,SANrB;AAOE,UAAA,OAAO,EAAEL,OAAO,CAACM,OAPnB;AAQE,UAAA,WAAW,EAAEN,OAAO,CAACO,WARvB;AASE,UAAA,KAAK,EAAEP,OAAO,CAACQ,KATjB;AAUE,UAAA,IAAI,EAAER,OAAO,CAAC7B,IAVhB;AAWE,UAAA,UAAU,EAAE6B,OAAO,CAACS,UAAR,CAAmBC;AAXjC,WAYM,MAAI,CAACd,KAZX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADiB;AAAA,OAAlB,CANH,CADF,CA/CF,CAzDF,CADF;AAqID;;;;EA1LsBlD,S;;AA6LzB,eAAeW,UAAU,CAACE,MAAD,CAAV,CAAmBQ,UAAnB,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Fab from \"@material-ui/core/Fab\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { MakeCompletedUrl } from \"../../tools\";\nimport ModalOffer from \"../offerView/ModalOffer\";\nimport { MIDDLE } from \"../offerView\";\n\nimport \"../pages.css\";\n\nimport logoSearch from \"../../img/icons8-chercher-208.png\";\n\nimport Button from \"@material-ui/core/Button\";\n\nimport \"./OffersStud.css\";\nimport { Grid, TextField, withStyles, Paper } from \"@material-ui/core\";\n\nconst styles = theme => ({\n  // container: {\n  //   display: \"flex\",\n  //   flexDirection: \"column\",\n  //   border: \"1px solid red\"\n  // }\n  TextField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    backgroundColor: \"#fff\",\n    borderRadius: 10\n  }\n});\n\nclass FindOffers extends Component {\n  state = {\n    result: [],\n    search: \"\",\n    town: \"\",\n    isLoad: false\n  };\n\n  componentDidMount() {\n    this.getMission();\n    this.getCount();\n  }\n\n  getCount = () => {\n    const url = MakeCompletedUrl(\"mission/getcount\");\n    axios.get(url).then(res => {\n      console.log(\"res\", res);\n      this.setState({ ...this.state, count: res.data.count });\n    });\n  };\n\n  handleChange = event => {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  };\n\n  // getResult = () => {};\n\n  getMission = () => {\n    const { search, town } = this.state;\n    const url = MakeCompletedUrl(`mission?search=${search}&town=${town}`);\n    axios\n      .get(url)\n      .then(res => {\n        this.setState({ result: res.data });\n      })\n      .catch(err => {\n        if (err.response.status === 304) {\n          console.log(\"status\", err.response.status);\n        }\n      });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.getMission();\n  };\n\n  render() {\n    const { result, count } = this.state;\n    const { classes } = this.props;\n    console.log(result);\n    return (\n      <div>\n        <div className=\"home-company\">\n          <div className=\"compnay-overlay\">\n            <div className=\"block-company\">\n              <h1 className=\"page_title\">\n                Trouve la mission de stage de tes rêves !\n              </h1>\n              <h2 className=\"page_subtitle\">\n                Nombre d’offres disponibles : {count || \"x\"}{\" \"}\n              </h2>\n\n              <form onSubmit={this.handleSubmit} className={classes.Form}>\n                <Grid container alignItems=\"center\" justify=\"center\">\n                  <Grid item xs={12} sm={8} md={6}>\n                    <TextField\n                      name=\"search\"\n                      label=\"Recherche\"\n                      margin=\"normal\"\n                      variant=\"outlined\"\n                      className={classes.TextField}\n                      id=\"search\"\n                      type=\"search\"\n                      placeholder=\"Stage\"\n                      onChange={this.handleChange}\n                    />\n                  </Grid>\n                  <Grid item xs={12} sm={8} md={6}>\n                    <TextField\n                      type=\"search\"\n                      name=\"town\"\n                      id=\"town\"\n                      placeholder=\"ville\"\n                      onChange={this.handleChange}\n                      label=\"Town\"\n                      margin=\"normal\"\n                      variant=\"outlined\"\n                      className={classes.TextField}\n                    />\n                  </Grid>\n                  <Grid item xs={12} sm={8} md={6}>\n                    <Button\n                      variant=\"contained\"\n                      type=\"submit\"\n                      className=\"searchButton classic_button_orange\"\n                    >\n                      <img\n                        src={require(\"../../img/icons8-chercher-208.png\")}\n                        width=\"30\"\n                        height=\"30\"\n                      />\n                    </Button>\n                  </Grid>\n                </Grid>\n              </form>\n            </div>\n          </div>\n        </div>\n        <Grid xs direction=\"column\" justify=\"center\" alignItems=\"center\">\n          <Grid\n            item\n            container\n            direction=\"column\"\n            justify=\"center\"\n            alignItems=\"center\"\n            className=\"Haut\"\n            xs\n          >\n            <form onSubmit={this.handleSubmit} className={classes.Form}>\n              <TextField\n                name=\"search\"\n                label=\"Recherche\"\n                margin=\"normal\"\n                variant=\"outlined\"\n                className={classes.TextField}\n                id=\"search\"\n                type=\"search\"\n                placeholder=\"Stage\"\n                onChange={this.handleChange}\n              />\n              <TextField\n                type=\"search\"\n                name=\"town\"\n                id=\"town\"\n                placeholder=\"ville\"\n                onChange={this.handleChange}\n                label=\"Town\"\n                margin=\"normal\"\n                variant=\"outlined\"\n                className={classes.TextField}\n              />\n              {/* <button type=\"submit\">Rechercher</button> */}\n              <Button\n                variant=\"contained\"\n                type=\"submit\"\n                className=\"searchButton classic_button_orange\"\n              >\n                <img\n                  src={require(\"../../img/icons8-chercher-208.png\")}\n                  width=\"30\"\n                  height=\"30\"\n                />\n              </Button>\n            </form>\n          </Grid>\n          <div className=\"general_margin content-search-offers\">\n            <Grid\n              container\n              direction=\"column\"\n              justify=\"center\"\n              alignItems=\"center\"\n            >\n              {result.map(element => (\n                <ModalOffer\n                  size={MIDDLE}\n                  key={`${element.id}-${element.titleMission}`}\n                  missionId={element.id}\n                  company={element.Company.companyName}\n                  titleMission={element.titleMission}\n                  dateStart={element.dateStart}\n                  dateEnd={element.dateEnd}\n                  description={element.description}\n                  intro={element.intro}\n                  town={element.town}\n                  LevelStudy={element.LevelStudy.label}\n                  {...this.props}\n                />\n              ))}\n            </Grid>\n          </div>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(FindOffers);\n"]},"metadata":{},"sourceType":"module"}