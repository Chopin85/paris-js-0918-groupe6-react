{"ast":null,"code":"import _classCallCheck from \"/home/wilder/Documents/Projet3/Projet One team/paris-js-0918-groupe6-react/one-team-front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/wilder/Documents/Projet3/Projet One team/paris-js-0918-groupe6-react/one-team-front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/wilder/Documents/Projet3/Projet One team/paris-js-0918-groupe6-react/one-team-front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/wilder/Documents/Projet3/Projet One team/paris-js-0918-groupe6-react/one-team-front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/wilder/Documents/Projet3/Projet One team/paris-js-0918-groupe6-react/one-team-front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/wilder/Documents/Projet3/Projet One team/paris-js-0918-groupe6-react/one-team-front/src/components/offerView/ModalOffer.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport axios from \"axios\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport { AwesomeButton } from \"react-awesome-button\";\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Typography from \"@material-ui/core/Typography\";\nimport OfferView from \"./OfferView\";\nimport { FULL } from \"./constants\";\nvar DialogTitle = withStyles(function (theme) {\n  return {\n    root: {\n      // borderBottom: `1px solid ${theme.palette.divider}`,\n      margin: 0,\n      padding: theme.spacing.unit * 2\n    },\n    closeButton: {\n      position: \"absolute\",\n      right: theme.spacing.unit,\n      top: theme.spacing.unit,\n      color: theme.palette.grey[500]\n    }\n  };\n})(function (props) {\n  var children = props.children,\n      classes = props.classes,\n      onClose = props.onClose;\n  return React.createElement(MuiDialogTitle, {\n    disableTypography: true,\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"h6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, children), onClose ? React.createElement(IconButton, {\n    \"aria-label\": \"Close\",\n    className: classes.closeButton,\n    onClick: onClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(CloseIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  })) : null);\n});\n\nvar ModalOffer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ModalOffer, _Component);\n\n  function ModalOffer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ModalOffer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ModalOffer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      open: false,\n      missionId: null\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.handleOpen = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.handleClickApplicate = function () {\n      var missionId = _this.state.missionId;\n      var traineeId = _this.props.traineeId;\n\n      _this.setState({\n        open: false\n      });\n\n      axios.post(\"http://localhost:3001/application\", {\n        missionId: missionId,\n        traineeId: traineeId\n      }).then(function (res) {\n        return console.log(res);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(ModalOffer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var missionId = this.props.missionId;\n      this.setState({\n        missionId: missionId\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var open = this.state.open;\n      var _this$props = this.props,\n          size = _this$props.size,\n          titleMission = _this$props.titleMission,\n          missionId = _this$props.missionId;\n      return React.createElement(\"div\", {\n        className: \"ModalOffer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(OfferView, Object.assign({\n        key: \"\".concat(missionId, \"-\").concat(titleMission)\n      }, this.props, {\n        size: size,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      })), React.createElement(AwesomeButton, {\n        type: \"primary\",\n        className: \"aws-btn remove\",\n        action: this.handleOpen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, size === \"SMALL\" ? \"Consulter\" : \"En savoir plus\"), React.createElement(Dialog, {\n        open: open,\n        \"aria-labelledby\": \"alert-dialog-title\",\n        \"aria-describedby\": \"alert-dialog-description\",\n        onClose: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(DialogTitle, {\n        id: \"customized-dialog-title\",\n        onClose: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(DialogContentText, {\n        id: \"alert-dialog-description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(OfferView, Object.assign({\n        key: \"\".concat(missionId, \"-\").concat(titleMission)\n      }, this.props, {\n        size: FULL,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      })))), React.createElement(DialogActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, size === \"SMALL\" ? React.createElement(Button, {\n        disabled: true,\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"postuler\") : React.createElement(Button, {\n        onClick: this.handleClickApplicate,\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"postuler\"))));\n    }\n  }]);\n\n  return ModalOffer;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    traineeId: state.student.id\n  };\n};\n\nexport default connect(mapStateToProps)(ModalOffer);","map":{"version":3,"sources":["/home/wilder/Documents/Projet3/Projet One team/paris-js-0918-groupe6-react/one-team-front/src/components/offerView/ModalOffer.js"],"names":["React","Component","connect","withStyles","axios","Button","Dialog","DialogActions","DialogContent","DialogContentText","AwesomeButton","MuiDialogTitle","IconButton","CloseIcon","Typography","OfferView","FULL","DialogTitle","theme","root","margin","padding","spacing","unit","closeButton","position","right","top","color","palette","grey","props","children","classes","onClose","ModalOffer","state","open","missionId","handleClose","setState","handleOpen","handleClickApplicate","traineeId","post","then","res","console","log","size","titleMission","mapStateToProps","student","id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport axios from \"axios\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport { AwesomeButton } from \"react-awesome-button\";\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Typography from \"@material-ui/core/Typography\";\nimport OfferView from \"./OfferView\";\nimport { FULL } from \"./constants\";\n\nconst DialogTitle = withStyles(theme => ({\n  root: {\n    // borderBottom: `1px solid ${theme.palette.divider}`,\n    margin: 0,\n    padding: theme.spacing.unit * 2\n  },\n  closeButton: {\n    position: \"absolute\",\n    right: theme.spacing.unit,\n    top: theme.spacing.unit,\n    color: theme.palette.grey[500]\n  }\n}))(props => {\n  const { children, classes, onClose } = props;\n  return (\n    <MuiDialogTitle disableTypography className={classes.root}>\n      <Typography variant=\"h6\">{children}</Typography>\n      {onClose ? (\n        <IconButton\n          aria-label=\"Close\"\n          className={classes.closeButton}\n          onClick={onClose}\n        >\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n    </MuiDialogTitle>\n  );\n});\nclass ModalOffer extends Component {\n  state = {\n    open: false,\n    missionId: null\n  };\n\n  componentDidMount() {\n    const { missionId } = this.props;\n    this.setState({\n      missionId\n    });\n  }\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  handleOpen = () => {\n    this.setState({ open: true });\n  };\n\n  handleClickApplicate = () => {\n    const { missionId } = this.state;\n    const { traineeId } = this.props;\n    this.setState({ open: false });\n    axios\n      .post(\"http://localhost:3001/application\", {\n        missionId,\n        traineeId\n      })\n      .then(res => console.log(res));\n  };\n\n  render() {\n    const { open } = this.state;\n    const { size, titleMission, missionId } = this.props;\n    return (\n      <div className=\"ModalOffer\">\n        <OfferView\n          key={`${missionId}-${titleMission}`}\n          {...this.props}\n          size={size}\n        />\n        <AwesomeButton\n          type=\"primary\"\n          className=\"aws-btn remove\"\n          action={this.handleOpen}\n        >\n          {size === \"SMALL\" ? \"Consulter\" : \"En savoir plus\"}\n        </AwesomeButton>\n        <Dialog\n          open={open}\n          aria-labelledby=\"alert-dialog-title\"\n          aria-describedby=\"alert-dialog-description\"\n          onClose={this.handleClose}\n        >\n          <DialogTitle\n            id=\"customized-dialog-title\"\n            onClose={this.handleClose}\n          />\n          <DialogContent>\n            <DialogContentText id=\"alert-dialog-description\">\n              <OfferView\n                key={`${missionId}-${titleMission}`}\n                {...this.props}\n                size={FULL}\n              />\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            {size === \"SMALL\" ? (\n              <Button disabled color=\"primary\">\n                postuler\n              </Button>\n            ) : (\n              <Button onClick={this.handleClickApplicate} color=\"primary\">\n                postuler\n              </Button>\n            )}\n          </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  traineeId: state.student.id\n});\nexport default connect(mapStateToProps)(ModalOffer);\n"]},"metadata":{},"sourceType":"module"}